(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(4),c=a.n(i),r=a(2),o=(a(11),a.p+"static/media/logo.4e8e0a1d.svg"),l=a(0);var p=function(){return Object(l.jsx)("div",{className:"header",children:Object(l.jsx)("img",{src:o,alt:"around the US logo",className:"header__logo"})})};var u=function(e){var t=e.isOpen,a=e.name,n=e.title,s=e.onClose,i=e.children,c=e.submitText;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("section",{className:"popup popup_type_".concat(a,", ").concat(t&&"popup_visible"),children:Object(l.jsxs)("div",{className:"popup__container",children:[Object(l.jsx)("button",{"aria-label":"exit",type:"button",className:"popup__exit-button",onClick:s}),Object(l.jsxs)("form",{className:"popup__form popup__".concat(a,"-form"),children:[Object(l.jsx)("h2",{className:"popup__title",children:n}),i,Object(l.jsx)("button",{type:"submit",className:"popup__submit-button",children:c})]})]})})})};var d=function(e){var t=e.isOpen,a=e.onClose,n=e.card;return Object(l.jsx)("div",{className:"popup popup_type_image ".concat(t&&"popup_visible"),children:Object(l.jsxs)("div",{className:"popup__container",children:[Object(l.jsx)("button",{"aria-label":"exit",type:"button",className:"popup__exit-button popup__exit-image",onClick:a}),Object(l.jsxs)("figure",{className:"popup__figure",children:[Object(l.jsx)("img",{className:"popup__figure-image",src:n.link,alt:n.name}),Object(l.jsx)("figcaption",{className:"popup__figure-caption",children:n.name})]})]})})},b=a(5),j=a(6),_=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)}))},m=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(b.a)(this,e),this._headers=n,this._baseUrl=a}return Object(j.a)(e,[{key:"getInitialCards",value:function(){return _("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"getUserinfo",value:function(){return _("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"updateUserInfo",value:function(e){return _("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e.name,about:e.about})})}},{key:"createCard",value:function(e){return _("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)})}},{key:"deleteCard",value:function(e){return _("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}},{key:"likeCard",value:function(e){return _("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"})}},{key:"dislikeCard",value:function(e){return _("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"})}},{key:"updateProfilePicture",value:function(e){var t=e.link;return _("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:t})})}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"777d758a-9062-4c9b-9afe-60fcbfab24e6","Content-Type":"application/json"}});var h=function(e){var t=e.onCardClick,a=e.card;return Object(l.jsx)(s.a.Fragment,{children:Object(l.jsxs)("article",{className:"card",children:[Object(l.jsx)("button",{"aria-label":"delete",type:"button",className:"card__delete-button"}),Object(l.jsx)("img",{src:a.link,alt:a.name,className:"card__image",onClick:function(){t(a)}}),Object(l.jsxs)("div",{className:"card__inner",children:[Object(l.jsx)("h2",{className:"card__title",children:a.name}),Object(l.jsxs)("div",{className:"card__likes-container",children:[Object(l.jsx)("button",{"aria-label":"like",type:"button",className:"card__like-button"}),Object(l.jsx)("span",{className:"card__likes-count",children:a.likes.length})]})]})]})})};var O=function(e){var t=e.isEditProfilePopupOpen,a=e.closeAllPopups,i=e.isEditAvatarPopupOpen,c=e.isAddPlacePopupOpen,o=e.isImagePopupOpen,p=e.card,b=e.onCardClick,j=e.onEditAvatarClick,_=e.onEditProfileClick,O=e.onAddPlaceClick,f=Object(n.useState)({userName:"",userDescription:"",userAvatar:""}),x=Object(r.a)(f,2),N=x[0],v=x[1],g=Object(n.useState)([]),k=Object(r.a)(g,2),C=k[0],y=k[1];return s.a.useEffect((function(){m.getUserinfo().then((function(e){v({userName:e.name,userDescription:e.about,userAvatar:e.avatar})})).catch((function(e){return console.error("user info error",e)}))}),[]),s.a.useEffect((function(){m.getInitialCards().then(y).catch((function(e){return console.error("initial cards error",e)}))}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"page",children:[Object(l.jsxs)(u,{name:"edit",title:"Edit profile",submitText:"Save",isOpen:t,onClose:a,children:[Object(l.jsxs)("label",{className:"popup__input-label",children:[Object(l.jsx)("input",{className:"popup__input popup__input_content_name",type:"text",name:"name",id:"input-name",placeholder:"Name",minLength:2,maxLength:40,required:!0}),Object(l.jsx)("span",{className:"popup__input-error input-name-error"})]}),Object(l.jsxs)("label",{className:"popup__input-label",children:[Object(l.jsx)("input",{className:"popup__input popup__input_content_description",type:"text",name:"about",id:"input-description",placeholder:"Job",minLength:2,maxLength:200,required:!0}),Object(l.jsx)("span",{className:"popup__input-error input-description-error"})]})]}),Object(l.jsx)(u,{name:"image",title:"Update profile picture",submitText:"Save",isOpen:i,onClose:a,children:Object(l.jsxs)("label",{className:"popup__input-label",children:[Object(l.jsx)("input",{className:"popup__input popup__input_content_profile-image",type:"url",name:"link",id:"input-avatar",placeholder:"Image link",value:"",required:!0}),Object(l.jsx)("span",{className:"popup__input-error input-avatar-error"})]})}),Object(l.jsxs)(u,{name:"add",title:"New place",submitText:"Create",isOpen:c,onClose:a,children:[Object(l.jsxs)("label",{className:"popup__input-label",children:[Object(l.jsx)("input",{className:"popup__input popup__input_content_title",type:"text",name:"name",id:"input-title",placeholder:"Title",value:"",required:"1",maxLength:"30"}),Object(l.jsx)("span",{className:"popup__input-error input-title-error"})]}),Object(l.jsxs)("label",{className:"popup__input-label",children:[Object(l.jsx)("input",{className:"popup__input popup__input_content_link",type:"url",name:"link",id:"input-image",placeholder:"Image link",value:"",required:!0}),Object(l.jsx)("span",{className:"popup__input-error input-image-error"})]})]}),Object(l.jsx)(u,{name:"delete",title:"Are you sure?",submitText:"Yes",onClose:a}),Object(l.jsx)(d,{card:p,isOpen:o,onClose:a}),Object(l.jsxs)("section",{className:"profile",children:[Object(l.jsxs)("div",{className:"profile__image-container",children:[Object(l.jsx)("img",{src:N.userAvatar,alt:"",className:"profile__image"}),Object(l.jsx)("button",{className:"profile__button profile__button_type_image",onClick:j})]}),Object(l.jsxs)("div",{className:"profile__info",children:[Object(l.jsxs)("div",{className:"profile__inner",children:[Object(l.jsx)("h1",{className:"profile__name",children:N.userName}),Object(l.jsx)("button",{"aria-label":"edit",type:"button",className:"profile__button profile__button-hover profile__button_type_edit",onClick:_})]}),Object(l.jsx)("p",{className:"profile__description",children:N.userDescription})]}),Object(l.jsx)("button",{"aria-label":"add",type:"button",className:"profile__button profile__button-hover profile__button_type_add",onClick:O})]}),Object(l.jsx)("section",{className:"cards",children:C.map((function(e){return Object(l.jsx)(h,{card:e,onCardClick:b},e._id)}))})]})})};var f=function(){return Object(l.jsx)(s.a.Fragment,{children:Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Around The U.S."})})})};var x=function(){var e=Object(n.useState)({}),t=Object(r.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)(!1),c=Object(r.a)(i,2),o=c[0],u=c[1],d=Object(n.useState)(!1),b=Object(r.a)(d,2),j=b[0],_=b[1],m=Object(n.useState)(!1),h=Object(r.a)(m,2),x=h[0],N=h[1],v=Object(n.useState)(!1),g=Object(r.a)(v,2),k=g[0],C=g[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"page",children:[Object(l.jsx)(p,{}),Object(l.jsx)(O,{onEditProfileClick:function(){u(!0)},onAddPlaceClick:function(){_(!0)},onEditAvatarClick:function(){N(!0)},onCardClick:function(e){s(e),C(!0)},isEditProfilePopupOpen:o,isAddPlacePopupOpen:j,isEditAvatarPopupOpen:x,isImagePopupOpen:k,card:a,closeAllPopups:function(){u(!1),_(!1),N(!1),C(!1)}}),Object(l.jsx)(f,{})]})})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,14)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))};c.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root")),N()}},[[13,1,2]]]);
//# sourceMappingURL=main.2b3625ee.chunk.js.map