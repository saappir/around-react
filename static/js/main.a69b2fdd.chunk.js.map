{"version":3,"sources":["images/logo/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/api.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","onCardClick","card","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","link","name","length","Main","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","handleCardLike","handleCardDelete","cards","avatar","about","map","Footer","api","baseUrl","headers","_customFetch","fetch","then","res","ok","json","Promise","reject","statusText","this","_headers","_baseUrl","data","method","body","JSON","stringify","cardId","authorization","PopupWithForm","isOpen","title","onClose","children","submitText","onSubmit","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","id","placeholder","minLength","maxLength","required","value","onChange","e","target","EditAvatarPopup","onUpdateAvatar","imageInput","useRef","current","ref","AddPlacePopup","onAddPlace","placeName","setPlaceName","placeImage","setPlaceImage","App","selectedCard","setSelectedCard","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","setUserState","setCardsArray","getUserinfo","catch","err","console","error","getInitialCards","closeAllPopups","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","updateUserInfo","setUserAvatar","createCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iMAAe,G,MAAA,IAA0B,kC,OCe1BA,MAZf,WACE,OACE,qBAAKC,UAAU,SAAf,SACE,qBACEC,IAAKC,EACLC,IAAI,qBACJH,UAAU,oBCPLI,EAAqBC,IAAMC,gBCwDzBC,MAvDf,SAAcC,GAEZ,IAAQC,EAAgDD,EAAhDC,YAAaC,EAAmCF,EAAnCE,KAAMC,EAA6BH,EAA7BG,WAAYC,EAAiBJ,EAAjBI,aAEjCC,EAAcR,IAAMS,WAAWV,GAE/BW,EAAQL,EAAKM,MAAMC,MAAQJ,EAAYI,IACvCC,EAAyB,8BACNH,EAAQ,oCAAsC,oCAGjEI,EAAUT,EAAKU,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQJ,EAAYI,OACvDM,EAAuB,4BACNJ,GAAW,kCAelC,OACE,0BAASnB,UAAU,OAAnB,UACE,wBACE,aAAW,SACXwB,KAAK,SACLxB,UAAWkB,EACXO,QAVoB,WACxBb,EAAaF,MAUX,qBACET,IAAKS,EAAKgB,KACVvB,IAAKO,EAAKiB,KACV3B,UAAU,cACVyB,QAvBc,WAClBhB,EAAYC,MAuBV,sBAAKV,UAAU,cAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BU,EAAKiB,OAClC,sBAAK3B,UAAU,wBAAf,UACE,wBACE,aAAW,OACXwB,KAAK,SACLxB,UAAWuB,EACXE,QA3Ba,WACrBd,EAAWD,MA2BL,sBAAMV,UAAU,oBAAhB,SAAqCU,EAAKU,MAAMQ,mBCV3CC,MApCf,SAAcrB,GAEZ,IAAQC,EACsBD,EADtBC,YAAaqB,EACStB,EADTsB,kBAAmBC,EACVvB,EADUuB,mBAAoBC,EAC9BxB,EAD8BwB,gBAAiBC,EAC/CzB,EAD+CyB,eAC3EC,EAA4B1B,EAA5B0B,iBAAkBC,EAAU3B,EAAV2B,MAEdtB,EAAcR,IAAMS,WAAWV,GAErC,OACE,sBAAKJ,UAAU,OAAf,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,2BAAf,UACE,qBAAKC,IAAKY,EAAYuB,OAAQjC,IAAKU,EAAYc,KAAM3B,UAAU,mBAC/D,wBAAQA,UAAU,6CAChByB,QAASK,OAEb,sBAAK9B,UAAU,gBAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+Ba,EAAYc,OAC3C,wBAAQ,aAAW,OAAOH,KAAK,SAASxB,UAAU,kEAChDyB,QAASM,OAEb,mBAAG/B,UAAU,uBAAb,SAAsCa,EAAYwB,WAEpD,wBAAQ,aAAW,MAAMb,KAAK,SAASxB,UAAU,iEAC/CyB,QAASO,OAGb,yBAAShC,UAAU,QAAnB,SACGmC,EAAMG,KAAI,SAAC5B,GAAD,OACT,cAAC,EAAD,CAAMA,KAAMA,EAAMD,YAAaA,EAA4BE,WAAYsB,EAAgBrB,aAAcsB,GAApDxB,EAAKO,cCxBjDsB,MARf,WACE,OACE,wBAAQvC,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,0C,cCmESwC,EARH,I,WA/DV,cAAmC,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QAAW,yBAKlCC,aAAe,SAACF,EAASC,GAAV,OACfE,MAAMH,EAASC,GACZG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAOJ,EAAIK,gBANtDC,KAAKC,SAAWX,EAChBU,KAAKE,SAAWb,E,mDAOlB,WACE,OAAOW,KAAKT,aAAL,UAAqBS,KAAKE,SAA1B,UAA4C,CACjDZ,QAASU,KAAKC,a,yBAIlB,WACE,OAAOD,KAAKT,aAAL,UAAqBS,KAAKE,SAA1B,aAA+C,CACpDZ,QAASU,KAAKC,a,4BAIlB,SAAeE,GACb,OAAOH,KAAKT,aAAL,UAAqBS,KAAKE,SAA1B,aAA+C,CACpDZ,QAASU,KAAKC,SACdG,OAAQ,QACRC,KAAMC,KAAKC,UAAU,CACnBhC,KAAM4B,EAAK5B,KACXU,MAAOkB,EAAKlB,Y,wBAKlB,SAAWkB,GACT,OAAOH,KAAKT,aAAL,UAAqBS,KAAKE,SAA1B,UAA4C,CACjDZ,QAASU,KAAKC,SACdG,OAAQ,OACRC,KAAMC,KAAKC,UAAUJ,O,wBAIzB,SAAWK,GACT,OAAOR,KAAKT,aAAL,UAAqBS,KAAKE,SAA1B,kBAA4CM,GAAU,CAC3DlB,QAASU,KAAKC,SACdG,OAAQ,a,kCAIZ,SAAqBI,EAAQzC,GAC3B,OAAOiC,KAAKT,aAAL,UAAqBS,KAAKE,SAA1B,wBAAkDM,GAAU,CACjElB,QAASU,KAAKC,SACdG,OAAQrC,EAAU,MAAQ,a,2BAI9B,YAAyB,IAAViB,EAAS,EAATA,OACb,OAAOgB,KAAKT,aAAL,UAAqBS,KAAKE,SAA1B,oBAAsD,CAC3DZ,QAASU,KAAKC,SACdG,OAAQ,QACRC,KAAMC,KAAKC,UAAU,CAACvB,iB,KAKhB,CAAQ,CAClBK,QAAS,8CACTC,QAAS,CACPmB,cAAe,uCACf,eAAgB,sBCzCLC,MAzBf,SAAuBtD,GAErB,IAAQuD,EAAiEvD,EAAjEuD,OAAQpC,EAAyDnB,EAAzDmB,KAAMqC,EAAmDxD,EAAnDwD,MAAOC,EAA4CzD,EAA5CyD,QAASC,EAAmC1D,EAAnC0D,SAAUC,EAAyB3D,EAAzB2D,WAAYC,EAAa5D,EAAb4D,SAE5D,OACE,yBAASpE,UAAS,2BAAsB2B,EAAtB,aAA+BoC,GAAU,iBAA3D,SACE,sBAAK/D,UAAU,mBAAf,UACE,wBACE,aAAW,OACXwB,KAAK,SACLxB,UAAU,qBACVyB,QAASwC,IAEX,uBAAMjE,UAAS,6BAAwB2B,EAAxB,SAAqCyC,SAAUA,EAA9D,UACE,oBAAIpE,UAAU,eAAd,SAA8BgE,IAC7BE,EACD,wBAAQ1C,KAAK,SAASxB,UAAU,uBAAhC,SACGmE,aCAEE,MAjBf,SAAoB7D,GAElB,IAAQuD,EAA0BvD,EAA1BuD,OAAQE,EAAkBzD,EAAlByD,QAASvD,EAASF,EAATE,KAEzB,OACE,qBAAKV,UAAS,iCAA4B+D,GAAU,iBAApD,SACE,sBAAK/D,UAAU,mBAAf,UACE,wBAAQ,aAAW,OAAOwB,KAAK,SAASxB,UAAU,uCAAuCyB,QAASwC,IAClG,yBAAQjE,UAAU,gBAAlB,UACE,qBAAKA,UAAU,sBAAsBC,IAAKS,EAAKgB,KAAMvB,IAAKO,EAAKiB,OAC/D,4BAAY3B,UAAU,wBAAtB,SAA+CU,EAAKiB,gBC+C/C2C,MAvDf,SAA0B9D,GAExB,IAAQuD,EAAkCvD,EAAlCuD,OAAQE,EAA0BzD,EAA1ByD,QAASM,EAAiB/D,EAAjB+D,aAEzB,EAAwBlE,IAAMmE,SAAS,IAAvC,mBAAO7C,EAAP,KAAa8C,EAAb,KACA,EAAsCpE,IAAMmE,SAAS,IAArD,mBAAOE,EAAP,KAAoBC,EAApB,KAEM9D,EAAcR,IAAMS,WAAWV,GAuBrC,OArBAC,IAAMuE,WAAU,WACdH,EAAQ5D,EAAYc,MAAQ,IAC5BgD,EAAe9D,EAAYwB,OAAS,MACnC,CAACxB,EAAakD,IAmBf,eAAC,EAAD,CAAepC,KAAK,OAAOqC,MAAM,eAAeG,WAAW,OACzDJ,OAAQA,EACRE,QAASA,EACTG,SApBJ,SAAsBS,GACpBA,EAAIC,iBACJP,EAAa,CACX5C,OACAU,MAAOqC,KAaT,UAIE,wBAAO1E,UAAU,qBAAjB,UACE,uBACEA,UAAU,yCAAyCwB,KAAK,OACxDG,KAAK,OAAOoD,GAAG,aAAaC,YAAY,OACxCC,UAAW,EAAGC,UAAW,GAAIC,UAAQ,EAACC,MAAOzD,EAAM0D,SAjB3D,SAA+BC,GAC7Bb,EAAQa,EAAEC,OAAOH,UAkBb,sBAAMpF,UAAU,2CAElB,wBAAOA,UAAU,qBAAjB,UACE,uBACEA,UAAU,gDAAgDwB,KAAK,OAC/DG,KAAK,QAAQoD,GAAG,oBAAoBC,YAAY,MAChDC,UAAW,EAAGC,UAAW,IAAKC,UAAQ,EAACC,MAAOV,EAAaW,SArBnE,SAAsCC,GACpCX,EAAeW,EAAEC,OAAOH,UAsBpB,sBAAMpF,UAAU,sDCvBTwF,MA3Bf,SAAyBhF,GAEvB,IAAQuD,EAAoCvD,EAApCuD,OAAQE,EAA4BzD,EAA5ByD,QAASwB,EAAmBjF,EAAnBiF,eAEnBC,EAAarF,IAAMsF,OAAO,IAShC,OACE,cAAC,EAAD,CAAehE,KAAK,QAAQqC,MAAM,yBAAyBG,WAAW,OAAOJ,OAAQA,EACnFE,QAASA,EAASG,SATtB,SAAsBkB,GACpBA,EAAER,iBACFW,EAAe,CACbrD,OAAQsD,EAAWE,QAAQR,SAK7B,SAEE,wBAAOpF,UAAU,qBAAjB,UACE,uBAAOA,UAAU,kDAAkDwB,KAAK,MAAMG,KAAK,OAAOoD,GAAG,eAC3FC,YAAY,aAAaG,UAAQ,EAEhCU,IAAKH,IACR,sBAAM1F,UAAU,gDC0BT8F,MA/Cf,SAAuBtF,GAErB,IAAQuD,EAAgCvD,EAAhCuD,OAAQE,EAAwBzD,EAAxByD,QAAS8B,EAAevF,EAAfuF,WAEzB,EAAkC1F,IAAMmE,SAAS,IAAjD,mBAAOwB,EAAP,KAAkBC,EAAlB,KACA,EAAoC5F,IAAMmE,SAAS,IAAnD,mBAAO0B,EAAP,KAAmBC,EAAnB,KAuBA,OALA9F,IAAMuE,WAAU,WACdqB,EAAa,IACbE,EAAc,MACb,CAACpC,IAGF,eAAC,EAAD,CAAepC,KAAK,MAAMqC,MAAM,YAAYG,WAAW,SACrDJ,OAAQA,EACRE,QAASA,EACTG,SAjBJ,SAAsBkB,GACpBA,EAAER,iBACFiB,EAAW,CACTpE,KAAMqE,EACNtE,KAAMwE,KAUR,UAIE,wBAAOlG,UAAU,qBAAjB,UACE,uBAAOA,UAAU,0CAA0CwB,KAAK,OAAOG,KAAK,OAAOoD,GAAG,cACrFK,MAAOY,EAAWhB,YAAY,QAAQG,SAAS,IAAID,UAAU,KAAKG,SA5BzE,SAA+BC,GAC7BW,EAAaX,EAAEC,OAAOH,UA4BlB,sBAAMpF,UAAU,4CAElB,wBAAOA,UAAU,qBAAjB,UACE,uBAAOA,UAAU,yCAAyCwB,KAAK,MAAMG,KAAK,OAAOoD,GAAG,cAClFK,MAAOc,EAAYlB,YAAY,aAAaG,UAAQ,EAACE,SA7B7D,SAAgCC,GAC9Ba,EAAcb,EAAEC,OAAOH,UA6BnB,sBAAMpF,UAAU,gDCoFToG,MAnHf,WAEE,MAAwC5B,mBAAS,IAAjD,mBAAO6B,EAAP,KAAqBC,EAArB,KACA,EAA4D9B,oBAAS,GAArE,mBAAO+B,EAAP,KAA+BC,EAA/B,KACA,EAAsDhC,oBAAS,GAA/D,mBAAOiC,EAAP,KAA4BC,EAA5B,KACA,EAA0DlC,oBAAS,GAAnE,mBAAOmC,EAAP,KAA8BC,EAA9B,KACA,EAAgDpC,oBAAS,GAAzD,mBAAOqC,EAAP,KAAyBC,EAAzB,KAEA,EAAoCtC,mBAAS,IAA7C,mBAAO3D,EAAP,KAAoBkG,EAApB,KACA,EAA+BvC,mBAAS,IAAxC,mBAAOrC,EAAP,KAAc6E,EAAd,KAEA3G,IAAMuE,WAAU,WACdpC,EAAIyE,cACDpE,KAAKkE,GACLG,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAM,kBAAmBF,QAChD,IAEH9G,IAAMuE,WAAU,WACdpC,EAAI8E,kBACDzE,KAAKmE,GACLE,OAAM,SAAAG,GAAK,OAAID,QAAQC,MAAM,sBAAuBA,QACtD,IA2DH,IAAME,EAAiB,WACrBf,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBE,GAAoB,IAGtB,OACE,cAAC1G,EAAmBoH,SAApB,CAA6BpC,MAAOvE,EAApC,SACE,sBAAKb,UAAU,OAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACE+B,mBAjEuB,WAC7ByE,GAA0B,IAiEpBxE,gBA9DoB,WAC1B0E,GAAuB,IA8DjB5E,kBAvEsB,WAC5B8E,GAAyB,IAuEnBnG,YA5DgB,SAAC4F,GACvBC,EAAgBD,GAChBS,GAAoB,IA2DdS,eAAgBA,EAChBtF,eAlCR,SAAwBvB,GACtB,IAAMS,EAAUT,EAAKU,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAC3DuB,EAAIiF,qBAAqB/G,EAAKO,KAAME,GACjC0B,MAAK,SAAC6E,GACLV,GAAc,SAACW,GAAD,OAAWA,EAAMrF,KAAI,SAACsF,GAAD,OAAOA,EAAE3G,MAAQP,EAAKO,IAAMyG,EAAUE,WAE1EV,OAAM,SAAAG,GAAK,OAAID,QAAQC,MAAM,kBAAmBA,OA6B7CnF,iBA1BR,SAA0BxB,GACxB8B,EAAIqF,WAAWnH,EAAKO,KACjB4B,MAAK,WACJmE,EAAc7E,EAAM2F,QAAQ,SAACF,GAAD,OAAOA,EAAE3G,MAAQP,EAAKO,WAEnDiG,OAAM,SAAAG,GAAK,OAAID,QAAQC,MAAM,oBAAqBA,OAsB/ClF,MAAOA,EACPtB,YAAaA,IAEf,cAAC,EAAD,CAAkBkD,OAAQwC,EAAwBtC,QAASsD,EAAgBhD,aA9DxD,SAAChB,GACxBf,EAAIuF,eAAexE,GAChBV,KAAKkE,GACLlE,KAAK0E,GACLL,OAAM,SAAAG,GAAK,OAAID,QAAQC,MAAM,oBAAqBA,SA2DjD,cAAC,EAAD,CAAiBtD,OAAQ4C,EAAuB1C,QAASsD,EAAgB9B,eAxDpD,SAAClC,GAC1Bf,EAAIwF,cAAczE,GACfV,KAAKkE,GACLlE,KAAK0E,GACLL,OAAM,SAAAG,GAAK,OAAID,QAAQC,MAAM,sBAAuBA,SAqDnD,cAAC,EAAD,CAAetD,OAAQ0C,EAAqBxC,QAASsD,EAAgBxB,WAlDpD,SAACxC,GACtBf,EAAIyF,WAAW1E,GACZV,MAAK,SAAC6E,GACLV,EAAc,CAACU,GAAF,mBAAcvF,QAE5BU,KAAK0E,GACLL,OAAM,SAAAG,GAAK,OAAID,QAAQC,MAAM,kBAAmBA,SA6C/C,cAAC,EAAD,CAAe1F,KAAK,SAASqC,MAAM,gBAAgBG,WAAW,MAAMF,QAASsD,IAC7E,cAAC,EAAD,CAAY7G,KAAM2F,EAActC,OAAQ8C,EAAkB5C,QAASsD,IAEnE,cAAC,EAAD,UC7GOW,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvF,MAAK,YAAkD,IAA/CwF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.a69b2fdd.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import React from 'react'\nimport logo from '../images/logo/logo.svg'\n\nfunction Header() {\n  return (\n    <div className=\"header\">\n      <img\n        src={logo}\n        alt=\"around the US logo\"\n        className=\"header__logo\"\n      />\n    </div>\n  )\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n  const { onCardClick, card, onCardLike, onCardDelete } = props;\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `card__delete-button ${isOwn ? 'card__delete-button_state_visible' : 'card__delete-button_state_hidden'}`\n  );\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `card__like-button ${isLiked && 'card__like-button_state_active'}`\n  )\n\n  const handleClick = () => {\n    onCardClick(card);\n  }\n\n  const handleCardLike = () => {\n    onCardLike(card)\n  }\n\n  const handleDeleteClick = () => {\n    onCardDelete(card)\n  }\n\n  return (\n    <article className=\"card\">\n      <button\n        aria-label=\"delete\"\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick} />\n      <img\n        src={card.link}\n        alt={card.name}\n        className=\"card__image\"\n        onClick={handleClick} />\n      <div className=\"card__inner\">\n        <h2 className=\"card__title\">{card.name}</h2>\n        <div className=\"card__likes-container\">\n          <button\n            aria-label=\"like\"\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={handleCardLike} />\n          <span className=\"card__likes-count\">{card.likes.length}</span>\n        </div>\n      </div>\n    </article>\n  )\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction Main(props) {\n\n  const { onCardClick, onEditAvatarClick, onEditProfileClick, onAddPlaceClick, handleCardLike,\n    handleCardDelete, cards } = props;\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <div className=\"page\">\n      <section className=\"profile\">\n        <div className=\"profile__image-container\">\n          <img src={currentUser.avatar} alt={currentUser.name} className=\"profile__image\" />\n          <button className=\"profile__button profile__button_type_image\"\n            onClick={onEditAvatarClick} />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__inner\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button aria-label=\"edit\" type=\"button\" className=\"profile__button profile__button-hover profile__button_type_edit\"\n              onClick={onEditProfileClick} />\n          </div>\n          <p className=\"profile__description\" >{currentUser.about}</p>\n        </div>\n        <button aria-label=\"add\" type=\"button\" className=\"profile__button profile__button-hover profile__button_type_add\"\n          onClick={onAddPlaceClick}\n        />\n      </section>\n      <section className=\"cards\">\n        {cards.map((card) => (\n          <Card card={card} onCardClick={onCardClick} key={card._id} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\n        ))}\n      </section>\n    </div>\n  )\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2021 Around The U.S.</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n\n  _customFetch = (baseUrl, headers) =>\n  fetch(baseUrl, headers)\n    .then(res => res.ok ? res.json() : Promise.reject(res.statusText))\n\n  getInitialCards() {\n    return this._customFetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    })\n  }\n\n  getUserinfo() {\n    return this._customFetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    })\n  }\n\n  updateUserInfo(data) {\n    return this._customFetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n  }\n\n  createCard(data) {\n    return this._customFetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n      method: 'POST',\n      body: JSON.stringify(data)\n    })\n  }\n\n  deleteCard(cardId) {\n    return this._customFetch(`${this._baseUrl}/cards/${cardId}`, {\n      headers: this._headers,\n      method: 'DELETE'\n    })\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return this._customFetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      headers: this._headers,\n      method: isLiked ? 'PUT' : 'DELETE'\n    })\n  }\n\n  setUserAvatar({avatar}) {\n    return this._customFetch(`${this._baseUrl}/users/me/avatar`, {\n      headers: this._headers,\n      method: 'PATCH',\n      body: JSON.stringify({avatar})\n    })\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-12\",\n  headers: {\n    authorization: \"777d758a-9062-4c9b-9afe-60fcbfab24e6\",\n    \"Content-Type\": \"application/json\"\n  }\n});\n\nexport default api;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n  const { isOpen, name, title, onClose, children, submitText, onSubmit } = props;\n\n  return (\n    <section className={`popup popup_type_${name}, ${isOpen && 'popup_visible'}`} >\n      <div className=\"popup__container\">\n        <button\n          aria-label=\"exit\"\n          type=\"button\"\n          className=\"popup__exit-button\"\n          onClick={onClose}\n        />\n        <form className={`popup__form popup__${name}-form`} onSubmit={onSubmit}>\n          <h2 className=\"popup__title\">{title}</h2>\n          {children}\n          <button type=\"submit\" className=\"popup__submit-button\">\n            {submitText}\n          </button>\n        </form>\n      </div>\n    </section>\n  )\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n\n  const { isOpen, onClose, card } = props\n\n  return (\n    <div className={`popup popup_type_image ${isOpen && 'popup_visible'}`}>\n      <div className=\"popup__container\">\n        <button aria-label=\"exit\" type=\"button\" className=\"popup__exit-button popup__exit-image\" onClick={onClose} />\n        <figure className=\"popup__figure\">\n          <img className=\"popup__figure-image\" src={card.link} alt={card.name} />\n          <figcaption className=\"popup__figure-caption\">{card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\n  const { isOpen, onClose, onUpdateUser } = props\n\n  const [name, setName] = React.useState('')\n  const [description, setDescription] = React.useState('')\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setDescription(currentUser.about || '');\n  }, [currentUser, isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  function handleInputNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleInputDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  return (\n    <PopupWithForm name=\"edit\" title=\"Edit profile\" submitText=\"Save\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}>\n      <label className=\"popup__input-label\">\n        <input\n          className=\"popup__input popup__input_content_name\" type=\"text\"\n          name=\"name\" id=\"input-name\" placeholder=\"Name\"\n          minLength={2} maxLength={40} required value={name} onChange={handleInputNameChange}\n        />\n        <span className=\"popup__input-error input-name-error\"></span>\n      </label>\n      <label className=\"popup__input-label\">\n        <input\n          className=\"popup__input popup__input_content_description\" type=\"text\"\n          name=\"about\" id=\"input-description\" placeholder=\"Job\"\n          minLength={2} maxLength={200} required value={description} onChange={handleInputDescriptionChange}\n        />\n        <span className=\"popup__input-error input-description-error\" ></span>\n      </label>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n\n  const { isOpen, onClose, onUpdateAvatar } = props;\n\n  const imageInput = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: imageInput.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"image\" title=\"Update profile picture\" submitText=\"Save\" isOpen={isOpen}\n      onClose={onClose} onSubmit={handleSubmit}>\n      <label className=\"popup__input-label\">\n        <input className=\"popup__input popup__input_content_profile-image\" type=\"url\" name=\"link\" id=\"input-avatar\"\n          placeholder=\"Image link\" required\n            //  onChange={handleInputImageChange}\n           ref={imageInput} />\n        <span className=\"popup__input-error input-avatar-error\" />\n      </label>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const { isOpen, onClose, onAddPlace } = props;\n\n  const [placeName, setPlaceName] = React.useState('');\n  const [placeImage, setPlaceImage] = React.useState('');\n\n  function handleInputNameChange(e) {\n    setPlaceName(e.target.value);\n  };\n\n  function handleInputImageChange(e) {\n    setPlaceImage(e.target.value);\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name: placeName,\n      link: placeImage\n    });\n  };\n\n  React.useEffect(() => {\n    setPlaceName('');\n    setPlaceImage('');\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm name=\"add\" title=\"New place\" submitText=\"Create\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}>\n      <label className=\"popup__input-label\">\n        <input className=\"popup__input popup__input_content_title\" type=\"text\" name=\"name\" id=\"input-title\"\n         value={placeName} placeholder=\"Title\" required=\"1\" maxLength=\"30\" onChange={handleInputNameChange} />\n        <span className=\"popup__input-error input-title-error\" />\n      </label>\n      <label className=\"popup__input-label\">\n        <input className=\"popup__input popup__input_content_link\" type=\"url\" name=\"link\" id=\"input-image\"\n          value={placeImage} placeholder=\"Image link\" required onChange={handleInputImageChange} />\n        <span className=\"popup__input-error input-image-error\" />\n      </label>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import React, { useState } from \"react\";\nimport '../index.css';\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\"\nimport Footer from \"./Footer.js\"\nimport api from \"../utils/api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n\n  const [selectedCard, setSelectedCard] = useState({});\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n\n  const [currentUser, setUserState] = useState({})\n  const [cards, setCardsArray] = useState([])\n\n  React.useEffect(() => {\n    api.getUserinfo()\n      .then(setUserState)\n      .catch(err => console.error('user info error', err))\n  }, []);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then(setCardsArray)\n      .catch(error => console.error('initial cards error', error))\n  }, []);\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const handleCardClick = (selectedCard) => {\n    setSelectedCard(selectedCard);\n    setIsImagePopupOpen(true);\n  }\n\n  const handleUpdateUser = (data) => {\n    api.updateUserInfo(data)\n      .then(setUserState)\n      .then(closeAllPopups)\n      .catch(error => console.error('update user error', error))\n  }\n\n  const handleUpdateAvatar = (data) => {\n    api.setUserAvatar(data)\n      .then(setUserState)\n      .then(closeAllPopups)\n      .catch(error => console.error('update avatar error', error))\n  }\n\n  const handleAddPlace = (data) => {\n    api.createCard(data)\n      .then((newCard) => {\n        setCardsArray([newCard, ...cards])\n      })\n      .then(closeAllPopups)\n      .catch(error => console.error('add place error', error))\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCardsArray((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch(error => console.error('like card error', error))\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCardsArray(cards.filter(((c) => c._id !== card._id)))\n      })\n      .catch(error => console.error('delete card error', error))\n  }\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditProfileClick={handleEditProfileClick}\n          onAddPlaceClick={handleAddPlaceClick}\n          onEditAvatarClick={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          closeAllPopups={closeAllPopups}\n          handleCardLike={handleCardLike}\n          handleCardDelete={handleCardDelete}\n          cards={cards}\n          currentUser={currentUser}\n        />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\n        <PopupWithForm name=\"delete\" title=\"Are you sure?\" submitText=\"Yes\" onClose={closeAllPopups} />\n        <ImagePopup card={selectedCard} isOpen={isImagePopupOpen} onClose={closeAllPopups} />\n\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}